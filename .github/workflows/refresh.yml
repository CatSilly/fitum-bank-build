name: Tự Động Kích Hoạt Làm Mới Web Chính

on:
  # Chạy định kỳ, ví dụ: 2 lần một ngày (vào 00:00 và 12:00 UTC)
  schedule:
    - cron: '0 0,00 * * *' 
  # Cho phép chạy thủ công qua giao diện GitHub
  workflow_dispatch:

permissions:
  contents: write
  id-token: write

jobs:
  auto-refresh-web:
    runs-on: ubuntu-latest
    
    steps:
      - name: Checkout mã nguồn
        # Cần thiết để thực hiện git command
        uses: actions/checkout@v4 
        
      - name: Tạo Commit Rỗng để Kích hoạt Build
        # Đây là cách phổ biến để "chạm" vào repo mà không thay đổi nội dung,
        # khiến các workflow Build/Deploy khác (như GitHub Pages) chạy lại.
        run: |
          # Thiết lập thông tin người dùng ảo cho Git
          git config user.name "github-actions[bot]"
          git config user.email "github-actions[bot]@users.noreply.github.com"
          
          # Lệnh tạo commit rỗng
          git commit --allow-empty -m "chore: Tự động kích hoạt làm mới web định kỳ [skip ci]"
          
          # Đẩy commit rỗng lên branch chính
          git push
        env:
          # Sử dụng GITHUB_TOKEN mặc định cho repo này
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }} 
          
